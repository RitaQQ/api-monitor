# SQLite è³‡æ–™åº«é·ç§»èªªæ˜

## æ¦‚è¿°

æ‚¨çš„ API ç›£æ§ç³»çµ±å·²æˆåŠŸå¾ JSON æª”æ¡ˆå„²å­˜å‡ç´šç‚º SQLite è³‡æ–™åº«å„²å­˜ã€‚é€™æ¬¡å‡ç´šå¸¶ä¾†äº†ä»¥ä¸‹å„ªå‹¢ï¼š

### ğŸ¯ ä¸»è¦å„ªå‹¢

1. **æ›´å¥½çš„è³‡æ–™å®Œæ•´æ€§** - å¤–éµç´„æŸå’Œäº¤æ˜“æ”¯æ´
2. **æ›´é«˜çš„æŸ¥è©¢æ•ˆèƒ½** - ç´¢å¼•å’Œ SQL æŸ¥è©¢å„ªåŒ–
3. **æ›´å¼·çš„ä½µç™¼æ”¯æ´** - å¤šç”¨æˆ¶åŒæ™‚æ“ä½œ
4. **æ›´å®Œå–„çš„è³‡æ–™é—œè¯** - é—œè¯å¼è³‡æ–™åº«è¨­è¨ˆ
5. **æ›´å¤§çš„æ“´å±•æ€§** - æ”¯æ´æ›´è¤‡é›œçš„æŸ¥è©¢å’Œçµ±è¨ˆ

## ğŸ“ è³‡æ–™åº«çµæ§‹

### æ ¸å¿ƒè¡¨æ ¼

- **users** - ç”¨æˆ¶ç®¡ç†
- **apis** - API ç›£æ§é…ç½®
- **stress_test_results** - å£“åŠ›æ¸¬è©¦çµæœ
- **product_tags** - ç”¢å“æ¨™ç±¤
- **test_projects** - æ¸¬è©¦å°ˆæ¡ˆ
- **test_cases** - æ¸¬è©¦æ¡ˆä¾‹
- **test_case_tags** - æ¸¬è©¦æ¡ˆä¾‹èˆ‡æ¨™ç±¤é—œè¯
- **user_stories** - ç”¨æˆ¶æ•…äº‹ï¼ˆå‘å¾Œå…¼å®¹ï¼‰

### è³‡æ–™åº«æª”æ¡ˆä½ç½®

```
data/api_monitor.db
```

## ğŸ”„ é·ç§»ç¾æœ‰è³‡æ–™

å¦‚æœæ‚¨æœ‰ç¾æœ‰çš„ JSON è³‡æ–™éœ€è¦é·ç§»ï¼Œè«‹åŸ·è¡Œï¼š

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨é·ç§»è…³æœ¬
python migrate_to_sqlite.py

# æ–¹æ³• 2ï¼šæ‰‹å‹•é·ç§»
python -c "
from database.migration import DataMigration
migration = DataMigration()
result = migration.migrate_all()
print(result)
"
```

### é·ç§»åŠŸèƒ½

- âœ… è‡ªå‹•å‚™ä»½åŸå§‹ JSON æª”æ¡ˆ
- âœ… æª¢æŸ¥ä¸¦é¿å…é‡è¤‡è³‡æ–™
- âœ… ä¿æŒè³‡æ–™é—œè¯å®Œæ•´æ€§
- âœ… è©³ç´°çš„é·ç§»å ±å‘Š

## ğŸ’» ä½¿ç”¨æ–¹å¼

### å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼

```bash
# å•Ÿå‹•å®Œæ•´ç‰ˆæœ¬ï¼ˆå»ºè­°ï¼‰
python simple_app.py

# æˆ–è€…å•Ÿå‹•ç°¡åŒ–ç‰ˆæœ¬
python app.py
```

### é è¨­ç®¡ç†å“¡å¸³è™Ÿ

```
ç”¨æˆ¶å: admin
å¯†ç¢¼: admin123
```

## ğŸ”§ é–‹ç™¼è€…æŒ‡å—

### è³‡æ–™åº«ç®¡ç†å™¨

```python
from database.db_manager import db_manager

# åŸ·è¡ŒæŸ¥è©¢
results = db_manager.execute_query("SELECT * FROM users")

# åŸ·è¡Œæ’å…¥
user_id = db_manager.execute_insert("INSERT INTO users (...) VALUES (...)", params)

# åŸ·è¡Œæ›´æ–°
rows_affected = db_manager.execute_update("UPDATE users SET ... WHERE ...", params)
```

### æ–°çš„ç®¡ç†å™¨é¡åˆ¥

```python
# API ç®¡ç†
from data_manager import DataManager
dm = DataManager()  # ç¾åœ¨ä½¿ç”¨ SQLite

# ç”¨æˆ¶ç®¡ç†  
from user_manager import UserManager
um = UserManager()  # ç¾åœ¨ä½¿ç”¨ SQLite

# æ¸¬è©¦æ¡ˆä¾‹ç®¡ç†
from test_case_manager import TestCaseManager
tcm = TestCaseManager()  # ç¾åœ¨ä½¿ç”¨ SQLite
```

## ğŸ“Š è³‡æ–™åº«ç¶­è­·

### å‚™ä»½è³‡æ–™åº«

```python
from database.db_manager import db_manager
db_manager.backup_database('backup/api_monitor_backup.db')
```

### æª¢æŸ¥è³‡æ–™åº«ç‹€æ…‹

```python
from database.migration import DataMigration
migration = DataMigration()
status = migration.check_migration_status()
print(status)
```

## ğŸ”„ å‘å¾Œå…¼å®¹æ€§

æ‰€æœ‰ç¾æœ‰çš„ API ä»‹é¢ä¿æŒä¸è®Šï¼š

- âœ… Web ç•Œé¢å®Œå…¨ç›¸åŒ
- âœ… æ‰€æœ‰è·¯ç”±å’ŒåŠŸèƒ½æ­£å¸¸
- âœ… é…ç½®æª”æ¡ˆæ ¼å¼ä¸è®Š
- âœ… ä½¿ç”¨æ–¹å¼å®Œå…¨ä¸€è‡´

## ğŸ“ˆ æ•ˆèƒ½æ”¹å–„

### æŸ¥è©¢æ•ˆèƒ½

- **ç´¢å¼•å„ªåŒ–** - é—œéµæ¬„ä½è‡ªå‹•å»ºç«‹ç´¢å¼•
- **SQL å„ªåŒ–** - ä½¿ç”¨é«˜æ•ˆçš„ SQL æŸ¥è©¢
- **é—œè¯æŸ¥è©¢** - æ¸›å°‘å¤šæ¬¡æŸ¥è©¢

### è¨˜æ†¶é«”ä½¿ç”¨

- **æŒ‰éœ€è¼‰å…¥** - åªè¼‰å…¥éœ€è¦çš„è³‡æ–™
- **é€£æ¥æ± ** - é‡ç”¨è³‡æ–™åº«é€£æ¥
- **äº¤æ˜“è™•ç†** - ç¢ºä¿è³‡æ–™ä¸€è‡´æ€§

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **è³‡æ–™åº«é–å®š**
   ```bash
   # æª¢æŸ¥æ˜¯å¦æœ‰å…¶ä»–ç¨‹åºåœ¨ä½¿ç”¨è³‡æ–™åº«
   lsof data/api_monitor.db
   ```

2. **æ¬Šé™å•é¡Œ**
   ```bash
   # ç¢ºä¿ data ç›®éŒ„æœ‰å¯«å…¥æ¬Šé™
   chmod 755 data/
   chmod 644 data/api_monitor.db
   ```

3. **é·ç§»å¤±æ•—**
   ```bash
   # æª¢æŸ¥ JSON æª”æ¡ˆæ ¼å¼
   python -c "import json; print(json.load(open('data/apis.json')))"
   ```

### é‡å»ºè³‡æ–™åº«

å¦‚æœéœ€è¦é‡å»ºè³‡æ–™åº«ï¼š

```bash
# åˆªé™¤ç¾æœ‰è³‡æ–™åº«
rm data/api_monitor.db

# é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼æœƒè‡ªå‹•å‰µå»ºæ–°è³‡æ–™åº«
python simple_app.py
```

## ğŸ“ è®Šæ›´æ—¥èªŒ

### v2.0.0 - SQLite å‡ç´š

- âœ… å®Œå…¨é·ç§»åˆ° SQLite è³‡æ–™åº«
- âœ… ä¿æŒæ‰€æœ‰ç¾æœ‰åŠŸèƒ½
- âœ… æ–°å¢è³‡æ–™é—œè¯å’Œç´„æŸ
- âœ… æå‡æŸ¥è©¢æ•ˆèƒ½
- âœ… æ”¯æ´è¤‡é›œçµ±è¨ˆæŸ¥è©¢
- âœ… è‡ªå‹•è³‡æ–™é·ç§»å·¥å…·

## ğŸ†˜ æŠ€è¡“æ”¯æ´

å¦‚æœ‰å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š

1. Python è™›æ“¬ç’°å¢ƒæ˜¯å¦å•Ÿå‹•
2. æ‰€æœ‰ä¾è³´å¥—ä»¶æ˜¯å¦å®‰è£
3. data ç›®éŒ„æ¬Šé™æ˜¯å¦æ­£ç¢º
4. SQLite è³‡æ–™åº«æ˜¯å¦å¯å¯«å…¥

---

**ğŸ‰ æ­å–œï¼æ‚¨çš„ API ç›£æ§ç³»çµ±ç¾åœ¨ä½¿ç”¨æ›´å¼·å¤§çš„ SQLite è³‡æ–™åº«ï¼**